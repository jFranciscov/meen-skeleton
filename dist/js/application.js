App=Ember.Application.create({LOG_TRANSITIONS:!0}),App.Store=DS.Store.extend(),App.ApplicationAdapter=DS.RESTAdapter.extend({namespace:"api"}),App.Router.map(function(){this.resource("peliculas",function(){this.resource("pelicula",{path:":id"}),this.resource("agregar_pelicula",{path:"agregar"})}),this.resource("cines",function(){this.resource("cine",{path:":id"}),this.resource("agregar_cine",{path:"agregar"})})}),App.CineController=Ember.ObjectController.extend({actions:{guardar:function(){this.get("model").save(),this.set("editando",!1),this.transitionToRoute("cines")},eliminar:function(){var e=this.get("model");e.destroyRecord(),this.transitionToRoute("cines")}}}),App.AgregarCineController=Ember.ObjectController.extend({actions:{guardar:function(){var e=this.store.createRecord("cine",{nombre:this.get("nombre"),ciudad:this.get("ciudad")});e.save().then(),this.transitionToRoute("cines")},cancelar:function(){this.transitionToRoute("cines")}}}),App.PeliculaController=Ember.ObjectController.extend({actions:{guardar:function(){this.get("model").save(),this.set("editando",!1),this.transitionToRoute("peliculas")},eliminar:function(){var e=this.get("model");e.destroyRecord(),this.transitionToRoute("peliculas")}}}),App.AgregarPeliculaController=Ember.ObjectController.extend({actions:{guardar:function(){var e=this.store.createRecord("pelicula",{nombre:this.get("nombre"),pais:this.get("pais"),autor:this.get("autor"),director:this.get("director")});e.save().then(),this.transitionToRoute("peliculas")},cancelar:function(){this.transitionToRoute("peliculas")}}});var attr=DS.attr;App.Cine=DS.Model.extend({nombre:attr("string"),ciudad:attr("string")});var attr=DS.attr;App.Pelicula=DS.Model.extend({nombre:attr("string"),pais:attr("string"),autor:attr("string"),director:attr("string")}),App.CinesRoute=Ember.Route.extend({model:function(){return this.store.find("cine")}}),App.CineRoute=Ember.Route.extend({model:function(e){return this.store.find("cine",e.id)}}),App.PeliculasRoute=Ember.Route.extend({model:function(){return this.store.find("pelicula")}}),App.PeliculaRoute=Ember.Route.extend({model:function(e){return this.store.find("pelicula",e.id)}});